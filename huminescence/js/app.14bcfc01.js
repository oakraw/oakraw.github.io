(function(t){function e(e){for(var n,o,c=e[0],u=e[1],s=e[2],p=0,l=[];p<c.length;p++)o=c[p],a[o]&&l.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,s||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,c=1;c<r.length;c++){var u=r[c];0!==a[u]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={app:0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var f=u;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),a=r("bb71");r("da64");n["a"].use(a["a"],{iconfont:"md"});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("router-view"),r("v-alert",{staticClass:"ma-0",staticStyle:{"z-index":"1000",position:"fixed",width:"100vw"},attrs:{value:t.errorMessage,type:"error",persistent:""}},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")])],1)},o=[],c=(r("96cf"),r("3b8d")),u=r("cebc"),s=r("2f62"),f={name:"App",computed:Object(u["a"])({},Object(s["b"])(["errorMessage"])),data:function(){return{snackbar:!1}},created:function(){this.fetch()},methods:{fetch:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},p=f,l=r("2877"),h=r("6544"),d=r.n(h),g=r("0798"),v=r("7496"),m=Object(l["a"])(p,i,o,!1,null,null,null);m.options.__file="App.vue";var b=m.exports;d()(m,{VAlert:g["a"],VApp:v["a"]});var w=r("8c4f"),x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"fill-height":""}},[r("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs4:""}},[r("v-card",{attrs:{ripple:""},on:{click:t.launchCamera}},[r("v-img",{attrs:{src:"https://www.techlicious.com/images/av/family-watching-movie-700px.jpg","aspect-ratio":"1"}}),r("v-card-title",[r("span",{staticClass:"title"},[t._v("Movie Experience")])])],1)],1)],1)],1)],1)},y=[],I={HOME:"home",REGISTER:"register",CAMERA:"camera"},_={created:function(){null===this.$store.getters.bridgeId&&this.$router.push({name:"register"})},methods:{launchCamera:function(){this.$router.push({name:I.CAMERA})}}},E=_,O=r("b0af"),R=r("12b2"),j=r("a523"),C=r("0e8f"),k=r("adda"),P=r("a722"),M=Object(l["a"])(E,x,y,!1,null,null,null);M.options.__file="Home.vue";var S=M.exports;d()(M,{VCard:O["a"],VCardTitle:R["a"],VContainer:j["a"],VFlex:C["a"],VImg:k["a"],VLayout:P["a"]});var D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"fill-height":""}},[r("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":""}},[t.bridgeIP?r("v-layout",{attrs:{"align-center":"",column:""}},[r("span",{staticClass:"title mb-3"},[t._v("Press the button on Philips Bridge.")]),t.bridgePairing?r("v-progress-circular",{staticClass:"text-sm-center",attrs:{indeterminate:"",color:"primary"}}):r("v-btn",{attrs:{color:"primary",large:"",dark:""},on:{click:t.pairBridge}},[t._v("\n        I already pressed it\n      ")]),t.error?r("span",{staticClass:"error--text mt-3"},[t._v(t._s(t.error))]):t._e()],1):r("h2",[t._v(t._s(t.findBridgeMessage))])],1)],1)},A=[],B="FIND_BRIDGE",G="BRIDGE_FOUND",V="CLEAR_BRIDGE",$="PAIR_BRIDGE",T="PAIRING_BRIDGE",L="PAIR_BRIDGE_SUCCESS",z="PAIR_BRIDGE_ERROR",H="GET_IP",U={computed:Object(u["a"])({},Object(s["b"])(["bridgeIP","bridgePairing"])),data:function(){return{error:null,findBridgeMessage:"finding bridge..."}},created:function(){this.fetch(),this.$store.dispatch(V)},methods:{fetch:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch(B);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),this.findBridgeMessage="Not found bridge";case 8:case"end":return t.stop()}},t,this,[[0,5]])}));function e(){return t.apply(this,arguments)}return e}(),pairBridge:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch($);case 3:e=t.sent,e&&this.$router.push({name:I.HOME}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.error=t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()}},q=U,F=r("8336"),N=r("490a"),J=Object(l["a"])(q,D,A,!1,null,null,null);J.options.__file="Register.vue";var W=J.exports;d()(J,{VBtn:F["a"],VContainer:j["a"],VLayout:P["a"],VProgressCircular:N["a"]});var X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{style:{background:t.pickedColor},attrs:{"fill-height":"",column:""}},[r("div",{staticClass:"demo-frame"},[r("div",{staticClass:"demo-container"},[r("video",{attrs:{id:"video",width:"100%",height:"450",autoplay:"",muted:"",controls:""},domProps:{muted:!0}}),r("canvas",{staticStyle:{display:"none"},attrs:{id:"canvas",width:"600",height:"400"}})])]),r("v-btn",{attrs:{color:"primary"},on:{click:t.init}},[t._v("\n    Start\n  ")])],1)},K=[],Q=r("6929"),Y=r.n(Q),Z=(r("ac6a"),r("55dd"),r("34ef"),function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=t.width,this.height=this.canvas.height=t.height,this.context.drawImage(t,0,0,this.width,this.height)});Z.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},Z.prototype.update=function(t){this.context.putImageData(t,0,0)},Z.prototype.getPixelCount=function(){return this.width*this.height},Z.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},Z.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var tt=function(){};
/*!
 * quantize.js Copyright 2008 Nick Rabinowitz.
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * @license
 */
/*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 * @license
 */
if(tt.prototype.getColor=function(t,e){var r=this.getPalette(t,5,e),n=r[0];return n},tt.prototype.getPalette=function(t,e,r){("undefined"===typeof e||e<2||e>256)&&(e=10),("undefined"===typeof r||r<1)&&(r=10);for(var n,a,i,o,c,u=new Z(t),s=u.getImageData(),f=s.data,p=u.getPixelCount(),l=[],h=0;h<p;h+=r)n=4*h,a=f[n+0],i=f[n+1],o=f[n+2],c=f[n+3],c>=125&&(a>250&&i>250&&o>250||l.push([a,i,o]));var d=rt.quantize(l,e),g=d?d.palette():null;return u.removeCanvas(),g},tt.prototype.getColorFromUrl=function(t,e,r){sourceImage=document.createElement("img");var n=this;sourceImage.addEventListener("load",function(){var a=n.getPalette(sourceImage,5,r),i=a[0];e(i,t)}),sourceImage.src=t},tt.prototype.getImageData=function(t,e){xhr=new XMLHttpRequest,xhr.open("GET",t,!0),xhr.responseType="arraybuffer",xhr.onload=function(t){if(200==this.status){uInt8Array=new Uint8Array(this.response),r=uInt8Array.length,binaryString=new Array(r);for(var r=0;r<uInt8Array.length;r++)binaryString[r]=String.fromCharCode(uInt8Array[r]);data=binaryString.join(""),base64=window.btoa(data),e("data:image/png;base64,"+base64)}},xhr.send()},tt.prototype.getColorAsync=function(t,e,r){var n=this;this.getImageData(t,function(t){sourceImage=document.createElement("img"),sourceImage.addEventListener("load",function(){var t=n.getPalette(sourceImage,5,r),a=t[0];e(a,this)}),sourceImage.src=t})},!et)var et={map:function(t,e){var r={};return e?t.map(function(t,n){return r.index=n,e.call(r,t)}):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var r={};return t.reduce(e?function(t,n,a){return r.index=a,t+e.call(r,n)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?et.map(t,e):t)}};var rt=function(){var t=5,e=8-t,r=1e3,n=.75;function a(e,r,n){return(e<<2*t)+(r<<t)+n}function i(t){var e=[],r=!1;function n(){e.sort(t),r=!0}return{push:function(t){e.push(t),r=!1},peek:function(t){return r||n(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return r||n(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return r||n(),e}}}function o(t,e,r,n,a,i,o){var c=this;c.r1=t,c.r2=e,c.g1=r,c.g2=n,c.b1=a,c.b2=i,c.histo=o}function c(){this.vboxes=new i(function(t,e){return et.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function u(r){var n,i,o,c,u=1<<3*t,s=new Array(u);return r.forEach(function(t){i=t[0]>>e,o=t[1]>>e,c=t[2]>>e,n=a(i,o,c),s[n]=(s[n]||0)+1}),s}function s(t,r){var n,a,i,c=1e6,u=0,s=1e6,f=0,p=1e6,l=0;return t.forEach(function(t){n=t[0]>>e,a=t[1]>>e,i=t[2]>>e,n<c?c=n:n>u&&(u=n),a<s?s=a:a>f&&(f=a),i<p?p=i:i>l&&(l=i)}),new o(c,u,s,f,p,l,r)}function f(t,e){if(e.count()){var r=e.r2-e.r1+1,n=e.g2-e.g1+1,i=e.b2-e.b1+1,o=et.max([r,n,i]);if(1==e.count())return[e.copy()];var c,u,s,f,p,l=0,h=[],d=[];if(o==r)for(c=e.r1;c<=e.r2;c++){for(f=0,u=e.g1;u<=e.g2;u++)for(s=e.b1;s<=e.b2;s++)p=a(c,u,s),f+=t[p]||0;l+=f,h[c]=l}else if(o==n)for(c=e.g1;c<=e.g2;c++){for(f=0,u=e.r1;u<=e.r2;u++)for(s=e.b1;s<=e.b2;s++)p=a(u,c,s),f+=t[p]||0;l+=f,h[c]=l}else for(c=e.b1;c<=e.b2;c++){for(f=0,u=e.r1;u<=e.r2;u++)for(s=e.g1;s<=e.g2;s++)p=a(u,s,c),f+=t[p]||0;l+=f,h[c]=l}return h.forEach(function(t,e){d[e]=l-t}),g(o==r?"r":o==n?"g":"b")}function g(t){var r,n,a,i,o,u=t+"1",s=t+"2",f=0;for(c=e[u];c<=e[s];c++)if(h[c]>l/2){a=e.copy(),i=e.copy(),r=c-e[u],n=e[s]-c,o=r<=n?Math.min(e[s]-1,~~(c+n/2)):Math.max(e[u],~~(c-1-r/2));while(!h[o])o++;f=d[o];while(!f&&h[o-1])f=d[--o];return a[s]=o,i[u]=a[s]+1,[a,i]}}}function p(t,e){if(!t.length||e<2||e>256)return!1;var a=u(t);a.forEach(function(){0});var o=s(t,a),p=new i(function(t,e){return et.naturalOrder(t.count(),e.count())});function l(t,e){var n,i=1,o=0;while(o<r)if(n=t.pop(),n.count()){var c=f(a,n),u=c[0],s=c[1];if(!u)return;if(t.push(u),s&&(t.push(s),i++),i>=e)return;if(o++>r)return}else t.push(n),o++}p.push(o),l(p,n*e);var h=new i(function(t,e){return et.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});while(p.size())h.push(p.pop());l(h,e-h.size());var d=new c;while(h.size())d.push(h.pop());return d}return o.prototype={volume:function(t){var e=this;return e._volume&&!t||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(t){var e=this,r=e.histo;if(!e._count_set||t){var n,i,o,c,u=0;for(i=e.r1;i<=e.r2;i++)for(o=e.g1;o<=e.g2;o++)for(c=e.b1;c<=e.b2;c++)n=a(i,o,c),u+=r[n]||0;e._count=u,e._count_set=!0}return e._count},copy:function(){var t=this;return new o(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var r=this,n=r.histo;if(!r._avg||e){var i,o,c,u,s,f=0,p=1<<8-t,l=0,h=0,d=0;for(o=r.r1;o<=r.r2;o++)for(c=r.g1;c<=r.g2;c++)for(u=r.b1;u<=r.b2;u++)s=a(o,c,u),i=n[s]||0,f+=i,l+=i*(o+.5)*p,h+=i*(c+.5)*p,d+=i*(u+.5)*p;r._avg=f?[~~(l/f),~~(h/f),~~(d/f)]:[~~(p*(r.r1+r.r2+1)/2),~~(p*(r.g1+r.g2+1)/2),~~(p*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(t){var r=this,n=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,n>=r.r1&&n<=r.r2&&gval>=r.g1&&gval<=r.g2&&bval>=r.b1&&bval<=r.b2}},c.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,r=0;r<e.size();r++)if(e.peek(r).vbox.contains(t))return e.peek(r).color;return this.nearest(t)},nearest:function(t){for(var e,r,n,a=this.vboxes,i=0;i<a.size();i++)r=Math.sqrt(Math.pow(t[0]-a.peek(i).color[0],2)+Math.pow(t[1]-a.peek(i).color[1],2)+Math.pow(t[2]-a.peek(i).color[2],2)),(r<e||void 0===e)&&(e=r,n=a.peek(i).color);return n},forcebw:function(){var t=this.vboxes;t.sort(function(t,e){return et.naturalOrder(et.sum(t.color),et.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var r=t.length-1,n=t[r].color;n[0]>251&&n[1]>251&&n[2]>251&&(t[r].color=[255,255,255])}},{quantize:p}}(),nt=tt,at="SHOW_ERROR",it="HIDE_ERROR",ot="GET_DEVICES",ct="GET_DEVICES_SUCCESS",ut="CHANGE_DEVICES_COLOR",st=null,ft=null,pt=null,lt=0,ht=[-999,-999];function dt(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}function gt(t,e,r){var n=t/255,a=e/255,i=r/255,o=dt(n),c=dt(a),u=dt(i),s=.649926*o+.103455*c+.197109*u,f=.234327*o+.743075*c+.022598*u,p=0*o+.053077*c+1.035763*u;if(s+f+p===0)return[0,0];var l=s/(s+f+p),h=f/(s+f+p);return[l,h]}var vt={data:function(){return{pickedColor:""}},created:function(){this.fetch()},methods:{init:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:st=document.getElementById("video"),ft=document.getElementById("canvas"),pt=ft.getContext("2d"),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then(function(t){st.srcObject=t,st.addEventListener("timeupdate",e.frameProcess),st.play()}):this.$store.dispatch(at,"Camera not support");case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetch:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch(ot);case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),frameProcess:function(){if(lt+=1,lt%5===0){pt.drawImage(st,0,0,ft.width,ft.height);var t=new nt,e=t.getColor(ft);this.pickedColor=Y.a.rgb(e),this.command()}},command:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=Y.a.rgb(this.pickedColor).color,r=gt(e[0],e[1],e[2]),(Math.abs(ht[0]-r[0])>.005||Math.abs(ht[1]-r[1])>.005)&&(ht=r,this.$store.dispatch(ut,{on:!0,bri:254,xy:r}));case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},mt=vt,bt=Object(l["a"])(mt,X,K,!1,null,null,null);bt.options.__file="Camera.vue";var wt=bt.exports;d()(bt,{VBtn:F["a"],VLayout:P["a"]});var xt=r("bd86"),yt=r("795b"),It=r.n(yt),_t=(r("6762"),r("2fdb"),r("bc3a")),Et=r.n(_t),Ot=r("a7fe"),Rt=r.n(Ot),jt="https://discovery.meethue.com/";function Ct(t){n["a"].axios.defaults.baseURL=t}var kt,Pt,Mt,St,Dt,At={init:function(){n["a"].use(Rt.a,Et.a),n["a"].axios.interceptors.request.use(this.interceptRequest,function(t){return It.a.reject(t)})},setEndpointForfindIP:function(){Ct(jt)},setIPEndpoint:function(t){Ct("http://".concat(t,"/api/"))},get:function(t,e){return n["a"].axios.get(t,e)},post:function(t,e,r){return n["a"].axios.post(t,e,r)},patch:function(t,e){return n["a"].axios.patch("".concat(t),e)},put:function(t,e){return n["a"].axios.put("".concat(t),e)},delete:function(t,e){return n["a"].axios.delete("".concat(t),e)},interceptRequest:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var r,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=e,!e.url||e.url.includes(jt)){t.next=13;break}return t.prev=2,t.next=5,ie.dispatch(H);case 5:n=t.sent,a="http://".concat(n,"/api/"),r.url="".concat(a).concat(r.url),t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](2),t.abrupt("return",It.a.reject(t.t0));case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this,[[2,10]])}));function e(e){return t.apply(this,arguments)}return e}()},Bt=At,Gt={findBridge:function(){return Bt.setEndpointForfindIP(),Bt.get().then(function(t){return t.data})},getBridgeId:function(){return Bt.post("",{devicetype:"my_hue_app#vue"}).then(function(t){return t.data})}},Vt=Gt,$t={getDevices:function(t){return Bt.get("".concat(t,"/lights")).then(function(t){return t.data})},commandLight:function(t,e,r){return Bt.put("".concat(t,"/lights/").concat(e,"/state"),r).then(function(t){return t.data})}},Tt=$t,Lt="BRIDGE_ID",zt={bridgeId:localStorage.getItem(Lt)||null,pairing:!1,bridgeIP:null,finding:!1},Ht={finding:function(t){return t.finding},bridgeId:function(t){return t.bridgeId},bridgeIP:function(t){return t.bridgeIP},bridgePairing:function(t){return t.pairing}},Ut=function(t){localStorage.setItem(Lt,t)},qt=(kt={},Object(xt["a"])(kt,B,function(t){var e=t.commit;return e(B),new It.a(function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(r,n){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vt.findBridge();case 3:a=t.sent,a.length>0?(i=a[0].internalipaddress,Bt.setIPEndpoint(i),e(G,i),r(i)):n(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),n(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e,r){return t.apply(this,arguments)}}())}),Object(xt["a"])(kt,$,function(t){var e=t.commit;return e(T),new It.a(function(t,r){return Vt.getBridgeId().then(function(n){if(n.length>0){var a=n[0];if(a.success){var i=a.success.username;Ut(i),e(L,i)}else e(z),r(a.error.description)}t(n)}).catch(function(t){e(z),r(t)})})}),Object(xt["a"])(kt,V,function(t){var e=t.commit;e(V),Ut(null)}),Object(xt["a"])(kt,H,function(t){var e=t.dispatch;return new It.a(function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(r,n){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!zt.bridgeIP){t.next=4;break}r(zt.bridgeIP),t.next=14;break;case 4:return t.prev=4,t.next=7,e(B);case 7:a=t.sent,r(a),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),n(t.t0);case 14:case"end":return t.stop()}},t,this,[[4,11]])}));return function(e,r){return t.apply(this,arguments)}}())}),kt),Ft=(Pt={},Object(xt["a"])(Pt,B,function(t){t.finding=!0}),Object(xt["a"])(Pt,G,function(t,e){t.finding=!1,t.bridgeIP=e}),Object(xt["a"])(Pt,V,function(t){t.bridgeId=null}),Object(xt["a"])(Pt,T,function(t){t.pairing=!0}),Object(xt["a"])(Pt,L,function(t,e){t.pairing=!1,t.bridgeId=e}),Object(xt["a"])(Pt,z,function(t){t.pairing=!1}),Pt),Nt={state:zt,getters:Ht,actions:qt,mutations:Ft},Jt=(r("5df3"),{devices:[]}),Wt={devices:function(t){return t.devices}},Xt=function(){return Nt.state.bridgeId},Kt=(Mt={},Object(xt["a"])(Mt,ot,function(t){var e=t.commit;return e(ot),new It.a(function(t){Tt.getDevices(Xt()).then(function(r){e(ct,r),t(r)})})}),Object(xt["a"])(Mt,ut,function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,r){var n,a,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.dispatch,0!==Jt.devices.length){t.next=4;break}return t.next=4,n(ot);case 4:for(o in a=[],i=function(t){a.push(new It.a(function(e){Tt.commandLight(Xt(),t,r).then(function(t){e(t)})}))},Jt.devices)i(o);return t.abrupt("return",It.a.all(a));case 8:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()),Mt),Qt=(St={},Object(xt["a"])(St,ot,function(){}),Object(xt["a"])(St,ct,function(t,e){t.devices=e}),St),Yt={state:Jt,getters:Wt,actions:Kt,mutations:Qt},Zt={errorMessage:""},te={errorMessage:function(t){return t.errorMessage}},ee=Object(xt["a"])({},at,function(t,e){var r=t.commit;r(at,e),setTimeout(function(){r(it)},3e3)}),re=(Dt={},Object(xt["a"])(Dt,at,function(t,e){t.errorMessage=e}),Object(xt["a"])(Dt,it,function(t){t.errorMessage=""}),Dt),ne={state:Zt,getters:te,actions:ee,mutations:re};n["a"].use(s["a"]);var ae=!1,ie=new s["a"].Store({modules:{bridge:Nt,control:Yt,ui:ne},strict:ae}),oe=function(t,e,r){ie.getters.bridgeId?r():r({name:I.REGISTER})};n["a"].use(w["a"]);var ce=new w["a"]({routes:[{path:"/",name:I.HOME,component:S,beforeEnter:oe},{path:"/register",name:I.REGISTER,component:W},{path:"/movie",name:I.CAMERA,component:wt,beforeEnter:oe}]});n["a"].config.productionTip=!1,Bt.init(),new n["a"]({router:ce,store:ie,render:function(t){return t(b)}}).$mount("#app")}});
//# sourceMappingURL=app.14bcfc01.js.map